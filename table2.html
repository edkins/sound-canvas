<html>
	<head>
		<meta charset="utf-8">
<script>
'use strict';
let ctx = undefined;
let pattern = undefined;
let timer = undefined;
let current_t = undefined;
let beats = 16;
let rhythm = 0.125;
let timer_interval = 0.1;
let time_window = 0.4;
let oscs = undefined;
let gains = undefined;
let a_hz = 440;
let current_div = 'ui';
let current_page = 0;

function showdiv(name) {
	document.getElementById(current_div).classList.add('hidden');
	document.getElementById(current_div+'-button').classList.remove('active');
	document.getElementById(name).classList.remove('hidden');
	document.getElementById(name+'-button').classList.add('active');
	current_div = name;
}

function time_to_t(time) {
	return Math.floor(time / rhythm);
}

function t_to_time(t) {
	return t * rhythm;
}

function schedule_note(p, t, octave) {
	let time = t_to_time(t);
	oscs[p].detune.setValueAtTime(1200 * octave, time);
	gains[p].gain.setValueAtTime(0, time);
	gains[p].gain.linearRampToValueAtTime(0.3, time + 0.005);
	gains[p].gain.linearRampToValueAtTime(0, time + 0.05);
}

function timer_func() {
	current_t = Math.max(current_t, time_to_t(ctx.currentTime));
	let window_t = time_to_t(ctx.currentTime + time_window);
	for (let t = current_t; t < window_t; t++) {
		for (let p = 0; p < 12; p++) {
			let octave = pattern[current_page][p][t % beats];
			if (octave !== undefined) {
				schedule_note(p, t, octave);
			}
		}
	}
	current_t = window_t;
}

function create_audio_objects() {
	oscs = [];
	gains = [];
	for (let p = 0; p < 12; p++) {
		let q = (7 * p + 6) % 12;  // starts from A
		let freq = a_hz * Math.pow(2, q / 12);

		let osc = ctx.createOscillator();
		osc.frequency.setValueAtTime(freq, ctx.currentTime);
		osc.start();

		let gain = ctx.createGain();
		gain.gain.setValueAtTime(0, ctx.currentTime);

		osc.connect(gain);
		gain.connect(ctx.destination);
		
		oscs.push(osc);
		gains.push(gain);
	}
}

function start_timer() {
	if (ctx === undefined) {
		ctx = new AudioContext();
		create_audio_objects();
	}
	if (timer === undefined) {
		current_t = time_to_t(ctx.currentTime);
		window.setInterval(timer_func, timer_interval * 1000);
	}
}

function cell(row,col) {
	return document.getElementById('table')
		.getElementsByTagName('tbody')[0]
		.getElementsByTagName('tr')[row]
		.getElementsByTagName('td')[col];
}

let last_target = undefined;
let last_t = undefined;
function rhythm_click(e) {
	let c = e.target;
	let page = parseInt(c.dataset.page);
	let p = parseInt(c.dataset.p);
	let t = parseInt(c.dataset.t);

	start_timer();

	// Detect double clicks
	if (pattern[page][p][t] === undefined && last_target === c && ctx.currentTime - last_t < 0.25) {
		for (t = 0; t < beats; t++) {
			pattern[page][p][t] = undefined;
			cell(p, 3+beats*page+t).classList.remove('active');
		}
		c = undefined;
		t = undefined;
		last_target = undefined;
		last_t = undefined;
	} else {
		if (pattern[page][p][t] === undefined) {
			if (e.shiftKey) {
				pattern[page][p][t] = 1;
			} else {
				pattern[page][p][t] = 0;
			}
			c.classList.add('active');
		} else {
			pattern[page][p][t] = undefined;
			c.classList.remove('active');
			last_target = c;
			last_t = ctx.currentTime;
		}
	}
	rhythm_over(e);
	update_chord_text();
}

function update_chord_text() {
	let chord = describe_chord_quality();
	for (let p = 0; p < 12; p++) {
		let qc = cell(p,2);
		if (chord.contains[p]) {
			qc.classList.add('active');
		} else {
			qc.classList.remove('active');
		}
	}

	let text = 'unknown';
	if (chord.count === 0) {
		text = 'silence';
	} else if (chord.root === undefined && chord.quality !== undefined) {
		text = chord.quality;
	} else if (chord.root !== undefined && chord.quality !== undefined) {
		if (chord.count === 2) {
			text = chord.quality + ' on ' + cell(chord.root,1).textContent;
		} else {
			text = cell(chord.root,1).textContent + ' ' + chord.quality;
		}
		for (let i = 1; i < chord.candidates.length; i++) {
			text += ' or ' + cell(chord.candidates[i].root,1).textContent + ' ' + chord.candidates[i].quality;
		}
	}

	document.getElementById('chord').textContent = text;

	if (chord.count <= 1) {
		text = '';
	} else {
		text = `Fifths: ${chord.intervals.fifths.length}, min.thirds: ${chord.intervals.min_thirds.length}, maj.thirds: ${chord.intervals.maj_thirds.length}, whole tones: ${chord.intervals.whole_tones.length}, semitones: ${chord.intervals.semitones.length}, tritones: ${chord.intervals.tritones.length/2}`;
	}
	document.getElementById('structure').textContent = text;
}

function describe_chord_quality() {
	let chord = {contains:[],count:0,candidates:[]};
	
	// First find out which notes are actually used
	for (let p = 0; p < 12; p++) {
		let used = false;
		for (let t = 0; t < beats; t++) {
			used = used || (pattern[current_page][p][t] !== undefined);
		}
		chord.contains.push(used);
		if (used) chord.count++;
	}

	let fifths = intervals_of(chord, FIFTH);
	let maj_thirds = intervals_of(chord, MAJOR_THIRD);
	let min_thirds = intervals_of(chord, MINOR_THIRD);
	let whole_tones = intervals_of(chord, TONE);
	let semitones = intervals_of(chord, SEMITONE);
	let tritones = intervals_of(chord, TRITONE);

	chord.intervals = {fifths, maj_thirds, min_thirds, whole_tones, semitones, tritones};
	chord.pitch_qualities = undefined;

	for (let i = 0; i < pitch_qualities.length; i++) {
		for (let offset = 0; offset < 12; offset++) {
			let matches = true;
			for (let j = 0; j < 12; j++) {
				let pattern = pitch_qualities[i][(offset + j) % 12].substring(0,1) === '(';
				matches = matches && (pattern === chord.contains[j]);
			}
			if (matches) {
				chord.pitch_qualities = [];
				for (let j = 0; j < 12; j++) {
					chord.pitch_qualities[j] = pitch_qualities[i][(offset + j) % 12];
				}
			}
		}
	}

	if (chord.count === 0) {
		// No notes. Nothing more to say about this chord.
		return chord;
	}

	if (chord.count === 1) {
		// Just one note. That's obviously the root.
		for (let p = 0; p < 12; p++) {
			if (chord.contains[p]) chord.root = p;
		}
		chord.quality = '';
		return chord;
	}

	if (chord.count === 2) {
		// Two notes is just an interval, not a full chord
		if (fifths.length === 1) {
			chord.root = fifths[0];
			chord.quality = 'fifth';
		} else if (min_thirds.length === 1 && chord.count === 2) {
			chord.root = min_thirds[0];
			chord.quality = 'min.third';
		} else if (maj_thirds.length === 1 && chord.count === 2) {
			chord.root = maj_thirds[0];
			chord.quality = 'Maj.third';
		}
		return chord;
	}

	// Consider each note as a candidate root
	// Try and describe the corresponding chord, and return the most plausible one

	let candidates = [];
	for (let root = 0; root < 12; root++) {
		if (!chord.contains[root]) {
			continue;
		}

		let fifth = chord.contains[(root + 1) % 12];
		let min_third = chord.contains[(root + 9) % 12];
		let maj_third = chord.contains[(root + 4) % 12];
		let maj_sixth = chord.contains[(root + 3) % 12];    // aka thirteenth
		let min_seventh = chord.contains[(root + 10) % 12];
		let maj_seventh = chord.contains[(root + 5) % 12];
		let maj_ninth = chord.contains[(root + 2) % 12];    // aka second
		let min_ninth = chord.contains[(root + 7) % 12];
		let fourth = chord.contains[(root + 11) % 12];    // aka eleventh
		let aug_fifth = chord.contains[(root + 8) % 12];
		let dim_fifth = chord.contains[(root + 6) % 12];      // aka tritone, sharp eleventh

		// Skip chords that contain both a major and minor third as too implausible
		if (maj_third && min_third) {
			continue;
		}
		// Skip chords that contain both a major and minor seventh
		if (maj_seventh && min_seventh) {
			continue;
		}
		// Skip chords that contain both a major and minor ninth
		if (maj_ninth && min_ninth) {
			continue;
		}

		// Does this look like a diminished or augmented chord?
		let dim = min_third && dim_fifth && !fifth && !aug_fifth;
		let aug = maj_third && aug_fifth && !fifth && !dim_fifth;
		let no5 = !fifth && !dim && !aug;

		// is this a major, minor or dominant chord?
		let major = !dim && !aug && maj_third;
		let minor = !dim && !aug && min_third;
		let dom = !dim && !aug && !min_third && min_seventh;   // if we're no3 and min_seventh, assume dom.
		let minor_major = !dim && !aug && min_third && maj_seventh;

		// Is this a sus or other no3 chord?
		let missing3 = !maj_third && !min_third;
		let sus4 = missing3 && fourth && !maj_ninth;
		let sus2 = missing3 && !fourth && maj_ninth;
		let no3 = missing3 && !sus4 && !sus2;

		if (no3 && no5) {
			// Skip it.
			continue;
		}

		// Distinguish sus4 from eleventh
		let eleventh = fourth && !sus4;

		// Dinstinguish sixth from thirteenth
		let sev = maj_seventh || min_seventh;
		let sixth = maj_sixth && !sev;
		let thirteenth = maj_sixth && sev;

		let nin = maj_ninth || min_ninth;

		// Very rough plausibility score
		let plausibility = -10;
		if (fifth) plausibility += 5;
		if ((aug || dim) && chord.count === 3) plausibility += 5;
		if (maj_third || min_third) plausibility += 5;
		if (sus4) plausibility += 2;
		if (sus2) plausibility += 1;
		if (min_seventh) plausibility += 4;
		if (maj_seventh) plausibility += 2;
		if (maj_ninth) plausibility += 1;

		// Fractional plausibility score serves to pick a favourite if there's a tie
		// Note no favourite will be picked if the chord qualities are identical, e.g. Caug vs Eaug
		if (fifth) plausibility += 1/2;
		if (min_third) plausibility += 1/4;
		if (maj_third) plausibility += 1/8;
		if (maj_sixth) plausibility += 1/16;
		if (min_seventh) plausibility += 1/32;
		if (maj_seventh) plausibility += 1/64;
		if (maj_ninth) plausibility += 1/128;
		if (min_ninth) plausibility += 1/256;
		if (fourth) plausibility += 1/512;
		if (aug_fifth) plausibility += 1/1024;
		if (dim_fifth) plausibility += 1/2048;

		let name = '';
		let written_major = false;

		if (minor_major) name += 'mM'
		else if (dom) name += '';
		else if (major) {
			name += 'M';
			written_major = true;
		}
		else if (minor) name += 'm';

		let written_9 = false;
		let written_11 = false;
		let written_13 = false;
		let written_dim = false;
		let written_o = false;

		if (aug) {
			name += '+';
		}
		if (dim) {
			if (min_seventh) {
				name += 'ø';
			} else if (maj_seventh) {
				name += 'o';
			} else {
				name += 'dim';
				written_dim = true;
			}
		}

		if (sixth) {
			if (written_dim) {
				name += '7';  // it's called a diminished seventh, confusingly
			} else {
				name += '6';
			}
		} else if (thirteenth && eleventh && sev && nin) {
			name += '13';
			written_9 = true;
			written_11 = true;
			written_13 = true;
		} else if (eleventh && sev && nin) {
			name += '11';
			written_9 = true;
			written_11 = true;
		} else if (maj_ninth && sev && !sus2) {
			name += '9';
			written_9 = true;
		} else if (min_ninth && sev) {
			name += '7♭9';
			written_9 = true;
		} else if (sev) {
			if (maj_seventh && !written_major) {
				name += 'M7';
			} else {
				name += '7';
			}
		}

		if (sus4) {
			name += 'sus4';
		}
		if (sus2) {
			name += 'sus2';
		}
		if (no3) {
			name += 'no3';
		}

		if (no5) {
			if (dim_fifth) {
				name += '♭5';
				written_11 = true;
			} else {
				name += 'no5';
			}
		}

		// Additions. Hopefully there won't be too many of these together
		if (maj_ninth && !sus2 && !written_9) {
			name += 'add9';
		}
		if (min_ninth && !written_9) {
			name += 'add♭9';
		}
		if (eleventh && !written_11) {
			name += 'add11';
		}
		if (thirteenth && !written_13) {
			name += 'add13';
		}
		if (dim_fifth && !dim && !written_11) {
			name += 'add♯11';
		}
		if (aug_fifth && !aug) {
			name += 'add♯9';
		}

		if (plausibility <= 0) {
			name = '(' + name + ')';
		}

		let candidate = {
			root,
			quality: name,
			plausibility
		};

		candidates.push(candidate);
	}

	candidates.sort((a,b) => b.plausibility - a.plausibility);

	if (candidates.length > 0) {
		chord.root = candidates[0].root;
		chord.quality = candidates[0].quality;
		chord.plausibility = candidates[0].plausibility;
		chord.candidates = candidates;
		chord.alt = chord.candidates.length > 1 && (chord.candidates[1].plausibility > 0 || chord.candidates[1].plausibility === chord.candidates[0].plausibility);  // cutoff for whether we advertise alternate
	}

	return chord;
}

// number of fifths to get from p to q. Returns a number between -5 and 6 inclusive.
const UNISON = 0;
const FIFTH = 1;
const MAJOR_THIRD = 4;
const MINOR_THIRD = -3;
const TONE = 2;
const SEMITONE = 5;
const TRITONE = 6;
function interval(p,q) {
	let i = (q + 12 - p) % 12;
	if (i > 6) {
		i -= 12;
	}
	return i;
}

function add_interval(p,i) {
	return (p + 12 + i) % 12;
}

function intervals_of(chord,i) {
	let result = [];
	for (let p = 0; p < 12; p++) {
		let q = add_interval(p, i);
		if (chord.contains[p] && chord.contains[q]) {
			result.push(p);
		}
	}
	return result;
}

const pitch_qualities = [

[ 'dissonant','dissonant','major',     'minor',     '',         'relaxed',  '(cancel)',     'bright',    '',         'minor',    'major',    'dissonant'],  // unison
[ 'dissonant','dissonant','dissonant', 'minor',     'pop~',     'pop',      '(rewind)',     '(progress)','pop',      'pop~',     'major',    'dissonant'],  // fifth
[ 'unstable', 'dissonant','major',     '(minor)',   'pop',      'pop',      '(major)',      'minor',     'dissonant','unstable', 'dissonant','dissonant'],  // m.3rd
[ 'dissonant','dissonant','weird',     'dissonant', 'dissonant','dissonant','(minor)',      'major',     '',         'minor',    '(major)',  'dissonant'],  // M.3rd
[ 'dissonant','dissonant','dissonant', 'dissonant', '',         'pop',      '()',           'pop',       '()',       'pop',      '',         'dissonant'],  // 2nd
[ 'dissonant','dissonant','dissonant', 'dissonant', 'unstable','interesting','(major)',     '(minor)',   'cheerful', 'minor',    '(open)',   'minor~'],  // M
[ 'dissonant','dissonant','major~',    '(open)',    'extend',   'cheerful', '(major)',      '(minor)',   'minor',  'interesting','dissonant','dissonant'],  // m
[ 'dissonant','dissonant','(minor)',   '(minor~)',  'major',    'minor',    '(neutral)',    '(major)',   'dissonant','dissonant','interesting','dissonant'],  // M7
[ 'minor',    'major',    'minor',     '(pop)',     '(minor)',  'extend',   '(major)',      '(pop~)',    'minor~',   'minor',    'dissonant','dissonant'],  // m7 or 6
[ 'dissonant','dissonant','dissonant', 'minor',     'minorish', '(open)',   '()',           '(open)',    'extend',   'major',    'dissonant','dissonant'],  // sus4
[ '',         '',         'cheerful',  '()',        '(minor)',  'tuneful',  '(open)',       'complete',  '',         '',         '',         ''],  // ** *
[ '',         '',         '',          'neutral',   '(open)',   'tuneful',  '()',           '()',        'minor',    'dissonant','interesting','']   // * **

];

function describe_pitch_quality(chord,p) {
	if (chord.pitch_qualities !== undefined) {
		return chord.pitch_qualities[p];
	} else {
		return '';
	}
}

function rhythm_over(e) {
	let c = e.target;
	let page = parseInt(c.dataset.page);
	let p = parseInt(c.dataset.p);
	let t = parseInt(c.dataset.t);
	if (page === current_page) {
		let chord = describe_chord_quality();
		let quality = describe_pitch_quality(chord,p);
		for (let p2 = 0; p2 < 12; p2++) {
			let text = '';
			if (p2 === p && quality !== '' && (pattern[page][p][t] !== undefined || !chord.contains[p])) {
				text = quality;
			} else if (p2 === chord.root) {
				text = 'root';
			} else if (chord.alt && p2 === chord.candidates[1].root) {
				text = 'alt';
			}
			cell(p2,2).textContent = text;
		}
	}
}

function init() {
	pattern = [];
	for (let page = 0; page < 3; page++) {
		let pattern_page = [];
		for (let p = 0; p < 12; p++) {
			let r = [];
			for (let t = 0; t < beats; t++) {
				r.push(undefined);
				let c = cell(p,3+beats*page+t);
				c.dataset.page = page;
				c.dataset.p = p;
				c.dataset.t = t;
				c.onclick = rhythm_click;
				c.onmouseover = rhythm_over;
			}
			pattern_page.push(r);
		}
		pattern.push(pattern_page);
	}
}

function select_page(page) {
	document.getElementById('pagehead'+current_page).classList.remove('active');
	current_page = page;
	document.getElementById('pagehead'+current_page).classList.add('active');
	update_chord_text();
}

window.onload = init;

</script>
<style>

.button.active {
	background: #f00;
}
th {
	border: solid black 1px;
}
th.active {
	background: #8cf;
}
td {
	border: solid black 1px;
	min-width: 15px;
}
td.beat {
	background: #eee;
}
td.boring {
	background: #f99;
}
td.active {
	background: #f00;
}
td.active.beat {
	background: #e00;
}
td.qual {
	background: #fff;
}
td.active.qual {
	background: #fee;
}
table {
	border-spacing: 0;
}
.hidden {
	display: none;
}

</style>
	</head>
	<body>
		<table id="table">
			<thead>
			<tr>
				<th>Key</th>
				<th>Pitch classs</th>
				<th style="min-width:200">Quality</th>
				<th id="pagehead0" colspan="16" class="active" onclick="select_page(0)">Rhythm</th>
				<th id="pagehead1" colspan="16" onclick="select_page(1)">Rhythm</th>
				<th id="pagehead2" colspan="16" onclick="select_page(2)">Rhythm</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td></td>
				<td>E♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>B♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>F</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>C</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>G</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>D</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>A</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>E</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>B</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>G♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>D♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td></td>
				<td>A♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>

				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr>
			</tbody>
		</table>
		<br>
		<div>
			<span id="chord">silence</span>
			<br>
			<span id="structure"></span>&nbsp;
		</div>
		<div>
			<span class="button active" id="ui-button" onclick="showdiv('ui')">User Interface</span>
			<span class="button" id="basic-chords-button" onclick="showdiv('basic-chords')">Basic chords</span>
			<span class="button" id="weird-chords-button" onclick="showdiv('weird-chords')">Weird chords</span>
			<span class="button" id="ninth-chords-button" onclick="showdiv('ninth-chords')">Ninth chords</span>
			<span class="button" id="eleventh-chords-button" onclick="showdiv('eleventh-chords')">Eleventh chords</span>
			<span class="button" id="scales-button" onclick="showdiv('scales')">Scales</span>
		</div>
		<div id="ui">
			<p>
			Click a square to play a sound. It will play in a loop, so you can construct a nice rhythm. Shift-click to play a particular note an octave higher.
			</p>
			<p>
			Click on an already active square to remove the sound. Double click an active square to remove the entire row.
			</p>
			<p>
			Once you've placed some notes, you'll notice that hovering over squares may suggest a word in the "quality" column. This is a (very vague) description of what it would sound like to add that note (or remove it if it's in parentheses). After you play around with the program for some time you'll get a better idea what these words mean.
			</p>
			<p>
			You are given three pages to work with. Click the corresponding rhythm tab to start playing it. (If you click one of the squares on an inactive page, it won't sound immediately). This allows you to practice chord progressions.
			</p>
		</div>
		<div id="basic-chords" class="hidden">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>Maj</th>
					<th></th>
					<th>7&nbsp;&nbsp;&nbsp;</th>
					<th></th>
					<th>M7</th>
					<th></th>
					<th>6&nbsp;&nbsp;&nbsp;</th>
					<th></th>
					<th>min</th>
					<th></th>
					<th>m7</th>
					<th></th>
					<th>sus4</th>
					<th></th>
					<th>7sus4</th>
					<th></th>
					<th>sus2</th>
					<th></th>
					<th>7no3</th>
					<th></th>
					<th>m7no5</th>
				</tr>
				</thead>
				<tbody>
				<tr>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>tritone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				</tbody>
			</table>
		</div>
		<div id="weird-chords" class="hidden">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>m6</th>
					<th></th>
					<th>mM7</th>
					<th></th>
					<th>mM7no5</th>
					<th></th>
					<th>dim</th>
					<th></th>
					<th>ø7</th>
					<th></th>
					<th>dim7</th>
					<th></th>
					<th>oM7</th>
					<th></th>
					<th>7♭5</th>
					<th></th>
					<th>aug</th>
					<th></th>
					<th>+7</th>
					<th></th>
					<th>+M7</th>
					<th></th>
					<th>It6</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>1</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>tritone</td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
				</tr>
				</tbody>
			</table>
		</div>
		<div id="ninth-chords" class="hidden">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>9</th>
					<th></th>
					<th>M9</th>
					<th></th>
					<th>7♭9</th>
					<th></th>
					<th>m9</th>
					<th></th>
					<th>m7♭9</th>
					<th></th>
					<th>6/9</th>
					<th></th>
					<th>add9</th>
					<th></th>
					<th>madd9</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>min.7</td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.7</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>tritone</td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				</tbody>
			</table>
		</div>
		<div id="eleventh-chords" class="hidden">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>11</th>
					<th></th>
					<th>M11</th>
					<th></th>
					<th>m11</th>
					<th></th>
					<th>9sus4</th>
					<th></th>
					<th>maj9#11</th>
					<th></th>
					<th>7♭9#11</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>min.9</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.7</td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>Maj.9</td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>Maj.7</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>4</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>5</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>3</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>4</td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td>4</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>tritone</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>3</td>
				</tr>
				</tbody>
			</table>
		</div>
		<div id="scales" class="hidden">
			<table>
				<thead>
				<tr>
					<th>Pentatonic</th>
					<th>Major</th>
					<th>Mixolydian</th>
					<th>Dorian</th>
					<th>Minor</th>
					<th>Whole tone</th>
					<th>Diminished</th>
					<th>Hexatonic Blues</th>
					<th>Double harmonic</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>6</td>
					<td>5</td>
					<td>6</td>
					<td></td>
					<td>6</td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td>3</td>
					<td>3</td>
					<td></td>
					<td>3</td>
					<td>2</td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td>7</td>
					<td>7</td>
					<td>7desc</td>
					<td>6</td>
					<td></td>
					<td>6</td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td>4</td>
					<td>4</td>
					<td>4</td>
					<td>4</td>
					<td></td>
					<td>4</td>
					<td>3</td>
					<td>4</td>
				</tr>
				<tr>
					<td>1</td>
					<td>1</td>
					<td>1</td>
					<td>1</td>
					<td>1</td>
					<td>1</td>
					<td>1</td>
					<td>1</td>
					<td>1</td>
				</tr>
				<tr>
					<td>4</td>
					<td>5</td>
					<td>5</td>
					<td>5</td>
					<td>5</td>
					<td></td>
					<td></td>
					<td>5</td>
					<td>5</td>
				</tr>
				<tr>
					<td>2</td>
					<td>2</td>
					<td>2</td>
					<td>2</td>
					<td>2</td>
					<td>2</td>
					<td>2</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>5</td>
					<td>6</td>
					<td>6</td>
					<td>6</td>
					<td></td>
					<td></td>
					<td>7</td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>3</td>
					<td>3</td>
					<td>3</td>
					<td></td>
					<td></td>
					<td>3</td>
					<td></td>
					<td></td>
					<td>3</td>
				</tr>
				<tr>
					<td></td>
					<td>7</td>
					<td></td>
					<td></td>
					<td>7asc</td>
					<td></td>
					<td>8</td>
					<td></td>
					<td>7</td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>4</td>
					<td>5</td>
					<td>4</td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
				</tr>
				</tbody>
			</table>
		</div>
	</body>
</html>
