<html>
	<head>
		<meta charset="utf-8">
<script>
'use strict';
let ctx = undefined;
let pattern = undefined;
let timer = undefined;
let current_t = undefined;
let beats = 16;
let rhythm = 0.125;
let timer_interval = 0.1;
let time_window = 0.2;
let oscs = undefined;
let gains = undefined;
let a_hz = 440;
let current_div = 'basic-chords';

function showdiv(name) {
	document.getElementById(current_div).classList.add('hidden');
	document.getElementById(current_div+'-button').classList.remove('active');
	document.getElementById(name).classList.remove('hidden');
	document.getElementById(name+'-button').classList.add('active');
	current_div = name;
}

function time_to_t(time) {
	return Math.floor(time / rhythm);
}

function t_to_time(t) {
	return t * rhythm;
}

function schedule_note(p, t) {
	let time = t_to_time(t);
	gains[p].gain.setValueAtTime(0, time);
	gains[p].gain.linearRampToValueAtTime(0.3, time + 0.005);
	gains[p].gain.linearRampToValueAtTime(0, time + 0.05);
}

function timer_func() {
	current_t = Math.max(current_t, time_to_t(ctx.currentTime));
	let window_t = time_to_t(ctx.currentTime + time_window);
	for (let t = current_t; t < window_t; t++) {
		for (let p = 0; p < 12; p++) {
			if (pattern[p][t % beats]) {
				schedule_note(p, t);
			}
		}
	}
	current_t = window_t;
}

function create_audio_objects() {
	oscs = [];
	gains = [];
	for (let p = 0; p < 12; p++) {
		let q = (7 * p + 6) % 12;  // starts from A
		let freq = a_hz * Math.pow(2, q / 12);

		let osc = ctx.createOscillator();
		osc.frequency.setValueAtTime(freq, ctx.currentTime);
		osc.start();

		let gain = ctx.createGain();
		gain.gain.setValueAtTime(0, ctx.currentTime);

		osc.connect(gain);
		gain.connect(ctx.destination);
		
		oscs.push(osc);
		gains.push(gain);
	}
}

function start_timer() {
	if (ctx === undefined) {
		ctx = new AudioContext();
		create_audio_objects();
	}
	if (timer === undefined) {
		current_t = time_to_t(ctx.currentTime);
		window.setInterval(timer_func, timer_interval * 1000);
	}
}

function cell(row,col) {
	return document.getElementById('table')
		.getElementsByTagName('tbody')[0]
		.getElementsByTagName('tr')[row]
		.getElementsByTagName('td')[col];
}

function rhythm_click(e) {
	let c = e.target;
	let p = parseInt(c.dataset.p);
	let t = parseInt(c.dataset.t);
	pattern[p][t] = !pattern[p][t];
	if (pattern[p][t]) {
		c.classList.add('active');
	} else {
		c.classList.remove('active');
	}
	start_timer();
	rhythm_over(e);

	let chord = describe_chord_quality();
	for (let p = 0; p < 12; p++) {
		let qc = cell(p,1);
		if (chord.contains[p]) {
			qc.classList.add('active');
		} else {
			qc.classList.remove('active');
		}
	}

	let chord_label = document.getElementById('chord');
	let text = 'unknown';
	if (chord.count === 0) {
		text = 'silence';
	} else if (chord.root === undefined && chord.quality !== undefined) {
		text = chord.quality;
	} else if (chord.root !== undefined && chord.quality !== undefined) {
		if (chord.count === 2) {
			text = chord.quality + ' on ' + cell(chord.root,0).textContent;
		} else {
			text = cell(chord.root,0).textContent + ' ' + chord.quality;
		}
		if (chord.alt !== undefined) {
			text += ' or ' + cell(chord.alt.root,0).textContent + ' ' + chord.alt.quality;
		}
	}
	chord_label.textContent = text;
}

function describe_chord_quality() {
	let chord = {contains:[],count:0};
	
	// First find out which notes are actually used
	for (let p = 0; p < 12; p++) {
		let used = false;
		for (let t = 0; t < beats; t++) {
			used = used || pattern[p][t];
		}
		chord.contains.push(used);
		if (used) chord.count++;
	}

	if (chord.count === 0) {
		// No notes. Nothing more to say about this chord.
		return chord;
	}

	if (chord.count === 1) {
		// Just one note. That's obviously the root.
		for (let p = 0; p < 12; p++) {
			if (chord.contains[p]) chord.root = p;
		}
		chord.quality = '';
		return chord;
	}

	// Search for root by looking for promising intervals
	let fifths = intervals_of(chord, FIFTH);
	let maj_thirds = intervals_of(chord, MAJOR_THIRD);
	let min_thirds = intervals_of(chord, MINOR_THIRD);
	if (fifths.length === 1) {
		chord.root = fifths[0];
		if (chord.count === 2) {
			chord.quality = 'fifth';
		} else if (chord.count === 3 && maj_thirds.length === 1 && maj_thirds[0] === chord.root) {
			chord.quality = 'maj';
		} else if (chord.count === 3 && maj_thirds.length === 1 && min_thirds[0] === chord.root) {
			chord.quality = 'min';
		} else if (chord.count === 4 && maj_thirds.length === 1 && maj_thirds[0] === chord.root && min_thirds.length === 2) {
			chord.quality = '7';
		} else if (chord.count === 4 && maj_thirds.length === 3 && min_thirds.length === 1 && min_thirds[0] === chord.root) {
			chord.quality = 'mM7';
		} else if (chord.count === 4 && maj_thirds.length === 1 && min_thirds.length === 2 && maj_thirds[0] !== chord.root) {
			chord.quality = 'm6';
			chord.alt = {
				quality:'ø7',
				root:(chord.root+3)%12
			};
		}
	} else if (fifths.length === 2) {
		// Which is the root?
		let i = interval(fifths[0], fifths[1]);
		if (i === FIFTH) {
			chord.root = fifths[1];
			if (chord.count === 3) { 
				chord.quality = 'sus4';
				chord.alt = {
					root: fifths[0],
					quality: 'sus2'
				}
			}
		} else if (i === -FIFTH) {
			chord.root = fifths[0];
			if (chord.count === 3) { 
				chord.quality = 'sus2';
				chord.alt = {
					root: fifths[1],
					quality: 'sus2'
				}
			}
		} else if (i === MINOR_THIRD) {
			chord.root = fifths[1];
			if (chord.count === 4) {
				chord.quality = '6';
				chord.alt = {
					root: fifths[0],
					quality: 'min7'
				}
			}
		} else if (i === -MINOR_THIRD) {
			chord.root = fifths[0];
			if (chord.count === 4) { 
				chord.quality = '6';
				chord.alt = {
					root: fifths[1],
					quality: 'min7'
				}
			}
		} else if (i === MAJOR_THIRD) {
			chord.root = fifths[0];
			if (chord.count === 4) { 
				chord.quality = 'M7';
			}
		} else if (i === -MAJOR_THIRD) {
			chord.root = fifths[1];
			if (chord.count === 4) { 
				chord.quality = 'M7';
			}
		}
	} else if (fifths.length === 3 && chord.count === 4 && min_thirds.length === 1) {
		// Four notes all adjacent to each other in the circle of fifths
		// Pick the 3rd of these and call it a 7sus4
		chord.root = (min_thirds[0] + 11) % 12;
		chord.quality = '7sus4';
	} else if (chord.count === 3 && maj_thirds.length === 3) {
		// Won't try and pick a root here because there are 3 symmetrical possibilities
		chord.quality = 'aug';
	} else if (chord.count === 3 && maj_thirds.length === 0 && min_thirds.length === 2) {
		chord.quality = 'dim';
		if ((min_thirds[0] + 9) % 12 === min_thirds[0]) {
			chord.root = min_thirds[0];
		} else {
			chord.root = min_thirds[1];
		}
	} else if (min_thirds.length === 1 && chord.count === 2) {
		chord.root = min_thirds[0];
		chord.quality = 'min.third';
	} else if (maj_thirds.length === 1 && chord.count === 2) {
		chord.root = maj_thirds[0];
		chord.quality = 'Maj.third';
	}

	return chord;
}

// number of fifths to get from p to q. Returns a number between -5 and 6 inclusive.
const UNISON = 0;
const FIFTH = 1;
const MAJOR_THIRD = 4;
const MINOR_THIRD = -3;
const TONE = 2;
const SEMITONE = 5;
const TRITONE = 6;
function interval(p,q) {
	let i = (q + 12 - p) % 12;
	if (i > 6) {
		i -= 12;
	}
	return i;
}

function add_interval(p,i) {
	return (p + 12 + i) % 12;
}

function intervals_of(chord,i) {
	let result = [];
	for (let p = 0; p < 12; p++) {
		let q = add_interval(p, i);
		if (chord.contains[p] && chord.contains[q]) {
			result.push(p);
		}
	}
	return result;
}

function describe_pitch_quality(chord,p) {
	if (chord.count === 1) {
		let i = interval(chord.root, p);
		if (i === FIFTH) return 'bright';
		if (i === -FIFTH) return 'relaxed';
	}
	return '';
}

function rhythm_over(e) {
	let c = e.target;
	let p = parseInt(c.dataset.p);
	let t = parseInt(c.dataset.t);
	let chord = describe_chord_quality();
	for (let p2 = 0; p2 < 12; p2++) {
		let text = '';
		if (p2 === chord.root) {
			text = 'root';
		} else if (chord.alt !== undefined && p2 === chord.alt.root) {
			text = 'alt';
		} else if (p2 === p && !chord.contains[p]) {
			text = describe_pitch_quality(chord,p);
		}
		cell(p2,1).textContent = text;
	}
}

function init() {
	pattern = [];
	for (let p = 0; p < 12; p++) {
		let r = [];
		for (let t = 0; t < beats; t++) {
			r.push(false);
			let c = cell(p,2+t);
			c.dataset.p = p;
			c.dataset.t = t;
			c.onclick = rhythm_click;
			c.onmouseover = rhythm_over;
		}
		pattern.push(r);
	}
}

window.onload = init;

</script>
<style>

.button.active {
	background: #f00;
}
th {
	border: solid black 1px;
}
td {
	border: solid black 1px;
	min-width: 15px;
}
td.beat {
	background: #eee;
}
td.boring {
	background: #f99;
}
td.active {
	background: #f00;
}
td.active.beat {
	background: #e00;
}
td.qual {
	background: #fff;
}
td.active.qual {
	background: #fee;
}
table {
	border-spacing: 0;
}
.hidden {
	display: none;
}

</style>
	</head>
	<body>
		<table id="table">
			<thead>
			<tr>
				<th>Pitch classs</th>
				<th>Quality</th>
				<th colspan="16">Rhythm</th>
			</tr>
			</thead>
			<tbody>
			<tr>
				<td>E♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>B♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>F</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>C</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>G</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>D</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>A</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>E</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>B</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>G♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>D♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr><tr>
				<td>A♭</td>
				<td class="qual"></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
				<td class="beat"></td><td></td><td></td><td></td>
			</tr>
			</tbody>
		</table>
		<br>
		<div>
			<span id="chord">silence</span>
		</div>
		<div>
			<span class="button active" id="basic-chords-button" onclick="showdiv('basic-chords')">Basic chords</span>
			<span class="button" id="weird-chords-button" onclick="showdiv('weird-chords')">Weird chords</span>
			<span class="button" id="ninth-chords-button" onclick="showdiv('ninth-chords')">Ninth chords</span>
		</div>
		<div id="basic-chords">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>Maj</th>
					<th></th>
					<th>7&nbsp;&nbsp;&nbsp;</th>
					<th></th>
					<th>M7</th>
					<th></th>
					<th>6&nbsp;&nbsp;&nbsp;</th>
					<th></th>
					<th>min</th>
					<th></th>
					<th>min7</th>
					<th></th>
					<th>sus4</th>
					<th></th>
					<th>7sus4</th>
					<th></th>
					<th>sus2</th>
					<th></th>
					<th>It6</th>
					<th></th>
					<th>7no3</th>
					<th></th>
					<th>m7no5</th>
				</tr>
				</thead>
				<tbody>
				<tr>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>tritone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				</tbody>
			</table>
		</div>
		<div id="weird-chords" class="hidden">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>m6</th>
					<th></th>
					<th>mM7</th>
					<th></th>
					<th>mM7no5</th>
					<th></th>
					<th>dim</th>
					<th></th>
					<th>ø7</th>
					<th></th>
					<th>dim7</th>
					<th></th>
					<th>7♭5</th>
					<th></th>
					<th>aug</th>
					<th></th>
					<th>7+</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>1</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>3</td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>tritone</td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
				</tr>
				</tbody>
			</table>
		</div>
		<div id="ninth-chords" class="hidden">
			<table>
				<thead>
				<tr>
					<th></th>
					<th>9</th>
					<th></th>
					<th>M9</th>
					<th></th>
					<th>7♭9</th>
					<th></th>
					<th>m9</th>
					<th></th>
					<th>6/9</th>
					<th></th>
					<th>add9</th>
					<th></th>
					<th>madd9</th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>min.third</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>min.7</td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>root</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>fifth</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td class="active"></td>
				</tr>
				<tr>
					<td>&nbsp;</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.third</td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td class="boring"></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>Maj.7</td>
					<td></td>
					<td></td>
					<td class="active"></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td>fifths</td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
				</tr>
				<tr>
					<td>min.thirds</td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>4</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>Maj.thirds</td>
					<td>2</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>whole tone</td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>3</td>
					<td></td>
					<td>2</td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>semitone</td>
					<td></td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td>1</td>
				</tr>
				<tr>
					<td>tritone</td>
					<td>1</td>
					<td></td>
					<td></td>
					<td></td>
					<td>2</td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				</tbody>
			</table>
		</div>
	</body>
</html>
